(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),c=n.n(o),u=(n(77),n(17)),l=(n(78),n(35)),i=n(36),s=function(){function e(t){Object(l.a)(this,e);var n=t.toString(),a=new Blob(["(".concat(n,")()")]),r=new Worker(URL.createObjectURL(a));return r.addEventListener("error",this.onError,!1),r}return Object(i.a)(e,[{key:"onError",value:function(e){console.log("Line: "+e.lineno),console.log("In: "+e.filename),console.log("Message: "+e.message)}}]),e}(),m=function(){self.addEventListener("message",function(e){if(e)switch(e.data.cmd){case"test":var t,n=performance.now();console.log(1);for(var a=0;a<2e7;a++)t+=1,t+=t%2;console.log(2,(performance.now()-n)/1e3),postMessage({data:"money? noop"}),postMessage({data:"money? noop"});break;case"error":throw postMessage({data:"response before error"}),new Error("EEERROROOR");case"onload":postMessage("onload response");break;default:postMessage("Unknown command")}},!1)},f=function(e,t){return function(){t("wating response"),e.postMessage({cmd:"test",data:"give me all your money"})}},b=function(){var e=Object(a.useRef)(new s(m)),t=Object(a.useState)(""),n=Object(u.a)(t,2),o=n[0],c=n[1];Object(a.useEffect)(function(){e.current.postMessage({cmd:"onload"}),e.current.addEventListener("message",function(e){console.log(e.data),c(e.data)})},!0);var l=Object(a.useCallback)(function(){e.current.postMessage({cmd:"error"})});return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:f(e.current,c)},"web worker"),r.a.createElement("button",{onClick:function(){var e,t=performance.now();console.log(1);for(var n=0;n<2e7;n++)e+=1,e+=e%2;console.log(2,(performance.now()-t)/1e3)}},"local f"),r.a.createElement("button",{onClick:l},"web worker error"),r.a.createElement("button",{onClick:function(){return e.current.postMessage({cmd:"lul"})}},"unknown command"),r.a.createElement("p",null,JSON.stringify(o)))},g=n(37),p=n(45),h=n(68),E=n(59),d=n(69),v=n(134),j=n(135),O=n(136),w=n(141),k=n(140),y=(n(79),n(138)),S=function(e){return Object.entries(e).reduce(function(e,t){var n=Object(u.a)(t,2),a=n[0],r=n[1];return e[a]=r.value,e},{})},C=function(e){return function(t){var n=Object.keys(t).reduce(function(e,t){return e[t]=[],e},{});return Object.entries(e).forEach(function(e){var a=Object(u.a)(e,2),r=a[0],o=a[1],c=t[r],l=function(e){return n[r].push(e)};switch(o.type){case Number:(function(e,t){if("number"!==typeof t)return["\u041d\u0435 \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"];var n=[];return e.maxValue&&t>e.maxValue&&n.push("\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ".concat(e.maxValue)),e.minValue&&t<e.minValue&&n.push("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ".concat(e.minValue)),n})(o,c).forEach(l);break;case String:(function(e,t){if("string"!==typeof t)return["\u041d\u0435 \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"];var n=[],a=t.trim();return e.maxLength&&a.length>e.maxLength&&n.push("\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0438: ".concat(e.maxLength,", \u0441\u0435\u0439\u0447\u0430\u0441 ").concat(a.length)),e.minLength&&a.length<e.minLength&&n.push("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0438: ".concat(e.minLength,", \u0441\u0435\u0439\u0447\u0430\u0441 ").concat(a.length)),n})(o,c).forEach(l);break;case"email":(function(e){if("string"!==typeof e)return["\u041d\u0435 \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"];var t=[],n=e.trim();return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n.toLowerCase())||t.push("\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 email"),t})(c).forEach(l)}}),n}},L=function(e){return function(t){return e[t]&&e[t].length>0}},x=function(e){return Object.values(e).reduce(function(e,t){return e+t.length},0)},M=n(133),R=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).stateStructure={email:{type:"email",value:""},name:{type:String,value:"",maxLength:20,minLength:1}},n.validator=C(n.stateStructure),n.state=Object(p.a)({},S(n.stateStructure),{errors:{}}),n.onChangeState=function(e){return function(t){var a=t.currentTarget.value;n.setState(Object(p.a)({},n.state,Object(g.a)({},e,a)),n.onValidate)}},n.onSubmit=function(e){0===n.onValidate()&&console.log("form submited. state: ",n.state),e.preventDefault()},n.onValidate=function(){var e=n.validator(n.state);return n.setState({errors:e}),x(e)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.name,a=e.errors,o=L(a),c=function(e){return function(t){var n=t.attr;return L(e)(n)?r.a.createElement(M.a,null,e[n]):null}}(a);return r.a.createElement(v.a,{className:"form-component"},r.a.createElement(j.a,{component:"h1",variant:"h5"},"\u0422\u0435\u0441\u0442 \u0444\u043e\u0440\u043c\u044b"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(O.a,{margin:"normal",required:!0,fullWidth:!0,error:o("name")},r.a.createElement(w.a,{htmlFor:"name"},"\u0421\u0442\u0440\u043e\u043a\u0430 \u043e\u0442 1 \u0434\u043e 20"),r.a.createElement(k.a,{value:n,name:"name",autoComplete:"off",onChange:this.onChangeState("name")}),r.a.createElement(c,{attr:"name"})),r.a.createElement(O.a,{margin:"normal",required:!0,fullWidth:!0,error:o("email")},r.a.createElement(w.a,{htmlFor:"email"},"Email Address"),r.a.createElement(k.a,{value:t,name:"email",autoComplete:"off",onChange:this.onChangeState("email")}),r.a.createElement(c,{attr:"email"})),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c")))}}]),t}(a.PureComponent),V=function(){var e=Object(a.useState)(0),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(1e3),l=Object(u.a)(c,2),i=l[0],s=l[1],m=Object(a.useState)(!0),f=Object(u.a)(m,2),b=f[0],g=f[1];return function(e,t){var n=Object(a.useRef)();Object(a.useEffect)(function(){n.current=e},[e]),Object(a.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}},[t])}(function(){o(n+1)},b?i:null),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,n),r.a.createElement("input",{value:i,onChange:function(e){s(Number(e.target.value))}}),r.a.createElement("button",{onClick:function(){g(!b)}},b?"stop":"resume"))};var A=n(4),F=n(137),N=n(139),I=n(67),W=n.n(I),z=function(){var e=Object(a.useRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){console.log("start ajax");var t=new A.a(function(e){W.a.get("https://jsonplaceholder.typicode.com/users").then(function(t){e.next(t.data),e.complete()}).catch(function(t){e.error(t)})}),n=Object(F.a)(t.pipe(Object(N.a)(1e3)));e=n.subscribe({next:function(e){return console.log("[data] => ",e)},complete:function(e){return console.log("[complete]",e)}})}},"do ajax"),r.a.createElement("button",{onClick:function(){console.log("cancel ajax"),e.unsubscribe()}},"cancel ajax"))},J=r.a.lazy(function(){return n.e(3).then(n.bind(null,142))});c.a.render(r.a.createElement(function(){var e=Object(a.useState)("empty"),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(5),l=Object(u.a)(c,2),i=l[0],s=l[1];return r.a.createElement("div",{className:"App"},r.a.createElement(z,null),r.a.createElement("hr",null),r.a.createElement("button",{onClick:function(){return o(function(e){return"test"===e?"empty":"test"})}},"change component"),r.a.createElement("button",{onClick:function(){return s(function(e){return e+1})}},"+++"),r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},"test"===n&&r.a.createElement(J,{prop:"test",count:i})),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement(b,null)),r.a.createElement(R,null),r.a.createElement("hr",null),r.a.createElement(V,null))},null),document.getElementById("root"))},72:function(e,t,n){e.exports=n(110)},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){}},[[72,1,2]]]);
//# sourceMappingURL=main.6665e47d.chunk.js.map